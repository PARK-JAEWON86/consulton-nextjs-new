-- 리뷰 테이블에 20개 데이터 삽입
-- 기존 상담 데이터와 연결하여 실제적인 리뷰 데이터 생성

-- 먼저 기존 상담 데이터 확인 (완료된 상담만)
SELECT id, userId, expertId, status FROM consultations WHERE status = 'completed' LIMIT 20;

-- 리뷰 데이터 삽입 (완료된 상담에 대한 리뷰)
INSERT IGNORE INTO reviews (
    consultationId, 
    userId, 
    expertId, 
    rating, 
    title, 
    content, 
    isAnonymous, 
    isVerified, 
    helpfulCount, 
    reportCount, 
    isPublic, 
    isDeleted, 
    createdAt, 
    updatedAt
) VALUES 
-- 전문가 1번에 대한 리뷰들 (5개)
(1, 21, 1, 5, '정말 도움이 되었습니다!', '전문가님이 정말 친절하게 상담해주셔서 많은 도움이 되었습니다. 앞으로도 계속 이용하고 싶어요.', false, true, 3, 0, true, false, '2024-01-15 14:30:00', '2024-01-15 14:30:00'),
(2, 22, 1, 4, '좋은 조언 감사합니다', '전문적인 관점에서 조언해주셔서 감사합니다. 조금 더 구체적인 예시가 있었으면 좋겠어요.', false, true, 2, 0, true, false, '2024-01-16 10:15:00', '2024-01-16 10:15:00'),
(3, 23, 1, 5, '완벽한 상담이었어요', '궁금했던 모든 것에 대해 자세히 설명해주셔서 정말 만족스러웠습니다. 추천합니다!', false, true, 5, 0, true, false, '2024-01-17 16:45:00', '2024-01-17 16:45:00'),
(4, 24, 1, 3, '괜찮은 상담이었어요', '전반적으로 만족스러웠지만, 조금 더 구체적인 피드백이 있었으면 좋겠어요.', false, true, 1, 0, true, false, '2024-01-18 09:20:00', '2024-01-18 09:20:00'),
(5, 25, 1, 4, '유익한 시간이었습니다', '전문가님의 경험담을 들을 수 있어서 좋았습니다. 실무에 바로 적용할 수 있는 조언이었어요.', false, true, 2, 0, true, false, '2024-01-19 13:10:00', '2024-01-19 13:10:00'),

-- 전문가 2번에 대한 리뷰들 (4개)
(6, 21, 2, 4, '도움이 많이 되었어요', '전문가님의 조언이 정말 실용적이었습니다. 앞으로도 계속 이용하고 싶어요.', false, true, 2, 0, true, false, '2024-01-20 15:30:00', '2024-01-20 15:30:00'),
(7, 22, 2, 5, '최고의 상담이었습니다', '정말 전문적이고 체계적인 상담이었습니다. 덕분에 방향을 잡을 수 있었어요.', false, true, 4, 0, true, false, '2024-01-21 11:00:00', '2024-01-21 11:00:00'),
(8, 23, 2, 3, '괜찮은 상담이었습니다', '전반적으로 만족스러웠지만, 조금 더 구체적인 예시가 있었으면 좋겠어요.', false, true, 1, 0, true, false, '2024-01-22 14:20:00', '2024-01-22 14:20:00'),
(9, 24, 2, 2, '아쉬운 점이 있었어요', '전문가님이 친절하시긴 했지만, 제가 원하는 답변을 얻지 못했어요. 조금 더 구체적인 조언이 필요했어요.', false, true, 0, 0, true, false, '2024-01-23 16:45:00', '2024-01-23 16:45:00'),

-- 전문가 3번에 대한 리뷰들 (4개)
(10, 21, 3, 5, '정말 감사합니다', '전문가님이 정말 친절하고 전문적으로 상담해주셔서 많은 도움이 되었습니다.', false, true, 3, 0, true, false, '2024-01-24 10:30:00', '2024-01-24 10:30:00'),
(11, 22, 3, 4, '좋은 경험이었습니다', '전문적인 조언과 함께 실무 경험도 공유해주셔서 정말 유익했습니다.', false, true, 2, 0, true, false, '2024-01-25 13:15:00', '2024-01-25 13:15:00'),
(12, 23, 3, 5, '완벽한 상담이었어요', '궁금했던 모든 것에 대해 자세히 설명해주셔서 정말 만족스러웠습니다.', false, true, 4, 0, true, false, '2024-01-26 15:45:00', '2024-01-26 15:45:00'),
(13, 25, 3, 3, '전반적으로 만족', '전문가님이 친절하게 상담해주셔서 좋았습니다. 조금 더 구체적인 예시가 있었으면 더 좋았을 것 같아요.', false, true, 1, 0, true, false, '2024-01-27 09:20:00', '2024-01-27 09:20:00'),

-- 전문가 4번에 대한 리뷰들 (3개)
(14, 21, 4, 4, '도움이 많이 되었어요', '전문가님의 조언이 정말 실용적이었습니다. 앞으로도 계속 이용하고 싶어요.', false, true, 2, 0, true, false, '2024-01-28 14:10:00', '2024-01-28 14:10:00'),
(15, 22, 4, 5, '최고의 전문가입니다', '정말 전문적이고 친절한 상담이었습니다. 강력 추천합니다!', false, true, 5, 0, true, false, '2024-01-29 16:30:00', '2024-01-29 16:30:00'),
(16, 24, 4, 3, '괜찮은 상담이었습니다', '전반적으로 만족스러웠지만, 조금 더 구체적인 예시가 있었으면 좋겠어요.', false, true, 1, 0, true, false, '2024-01-30 11:45:00', '2024-01-30 11:45:00'),

-- 전문가 5번에 대한 리뷰들 (2개)
(17, 23, 5, 5, '정말 감사합니다', '전문가님이 정말 친절하게 상담해주셔서 많은 도움이 되었습니다.', false, true, 3, 0, true, false, '2024-01-31 13:20:00', '2024-01-31 13:20:00'),
(18, 25, 5, 4, '좋은 조언 감사합니다', '전문적인 관점에서 조언해주셔서 감사합니다. 실무에 바로 적용할 수 있어요.', false, true, 2, 0, true, false, '2024-02-01 15:15:00', '2024-02-01 15:15:00'),

-- 전문가 6번에 대한 리뷰들 (1개)
(19, 21, 6, 4, '유익한 시간이었습니다', '전문가님의 경험담을 들을 수 있어서 좋았습니다. 실무에 도움이 되었어요.', false, true, 1, 0, true, false, '2024-02-02 10:00:00', '2024-02-02 10:00:00'),

-- 전문가 7번에 대한 리뷰들 (1개)
(20, 22, 7, 5, '정말 감사합니다', '전문가님이 정말 친절하고 전문적으로 상담해주셔서 많은 도움이 되었습니다.', false, true, 4, 0, true, false, '2024-02-03 14:30:00', '2024-02-03 14:30:00');

-- 삽입된 리뷰 데이터 확인
SELECT 
    r.id,
    r.consultationId,
    r.userId,
    r.expertId,
    r.rating,
    r.title,
    r.isAnonymous,
    r.isPublic,
    r.helpfulCount,
    r.createdAt
FROM reviews r 
ORDER BY r.createdAt DESC 
LIMIT 20;

-- 전문가별 리뷰 통계 확인
SELECT 
    r.expertId,
    COUNT(*) as totalReviews,
    AVG(r.rating) as avgRating,
    MIN(r.rating) as minRating,
    MAX(r.rating) as maxRating
FROM reviews r 
WHERE r.isDeleted = false 
GROUP BY r.expertId 
ORDER BY avgRating DESC;
