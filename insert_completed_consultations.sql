-- 완료된 상담 데이터 추가 생성 (리뷰를 위한 상담들)
-- 기존 상담 데이터 외에 리뷰를 작성할 수 있는 완료된 상담들을 생성

-- 완료된 상담 데이터 삽입
INSERT IGNORE INTO consultations (
    id,
    userId,
    expertId,
    categoryId,
    title,
    description,
    status,
    scheduledAt,
    completedAt,
    duration,
    price,
    rating,
    feedback,
    createdAt,
    updatedAt
) VALUES 
-- 상담 1번 (사용자1 - 전문가1)
(1, 'user_001', 1, 1, '프론트엔드 개발 진로 상담', 'React와 Vue.js 중 어떤 것을 선택해야 할지 고민입니다. 현재 상황과 목표에 맞는 기술 스택을 추천해주세요.', 'completed', '2024-01-15 14:00:00', '2024-01-15 15:00:00', 60, 50000, 5, '정말 도움이 되었습니다!', '2024-01-10 10:00:00', '2024-01-15 15:00:00'),

-- 상담 2번 (사용자2 - 전문가1)
(2, 'user_002', 1, 1, '백엔드 개발자 전환 상담', '현재 프론트엔드 개발자로 일하고 있는데, 백엔드로 전환하고 싶습니다. 어떤 기술을 먼저 학습해야 할까요?', 'completed', '2024-01-16 10:00:00', '2024-01-16 11:00:00', 60, 50000, 4, '좋은 조언 감사합니다', '2024-01-12 14:30:00', '2024-01-16 11:00:00'),

-- 상담 3번 (사용자3 - 전문가1)
(3, 'user_003', 1, 1, '개발자 포트폴리오 리뷰', '취업을 위한 포트폴리오를 만들었는데, 어떤 부분을 개선하면 좋을지 조언해주세요.', 'completed', '2024-01-17 16:00:00', '2024-01-17 17:00:00', 60, 50000, 5, '완벽한 상담이었어요', '2024-01-15 09:15:00', '2024-01-17 17:00:00'),

-- 상담 4번 (사용자4 - 전문가1)
(4, 'user_004', 1, 1, '스타트업 개발자 면접 준비', '스타트업 개발자 면접을 준비하고 있습니다. 어떤 질문들이 나올 수 있고 어떻게 답변해야 할까요?', 'completed', '2024-01-18 09:00:00', '2024-01-18 10:00:00', 60, 50000, 3, '괜찮은 상담이었어요', '2024-01-18 16:45:00', '2024-01-18 10:00:00'),

-- 상담 5번 (사용자5 - 전문가1)
(5, 'user_005', 1, 1, '개발팀 리드 역할 상담', '개발팀 리드로 승진했는데, 팀을 어떻게 관리하고 이끌어가야 할지 고민입니다.', 'completed', '2024-01-19 13:00:00', '2024-01-19 14:00:00', 60, 50000, 4, '유익한 시간이었습니다', '2024-01-20 11:20:00', '2024-01-19 14:00:00'),

-- 상담 6번 (사용자1 - 전문가2)
(6, 'user_001', 2, 2, '디자인 시스템 구축 상담', '회사에서 디자인 시스템을 구축하려고 합니다. 어떤 방식으로 접근하면 좋을까요?', 'completed', '2024-01-20 15:00:00', '2024-01-20 16:00:00', 60, 45000, 4, '도움이 많이 되었어요', '2024-01-22 13:10:00', '2024-01-20 16:00:00'),

-- 상담 7번 (사용자2 - 전문가2)
(7, 'user_002', 2, 2, 'UI/UX 디자인 포트폴리오', 'UI/UX 디자이너로 취업하기 위한 포트폴리오를 만들고 있습니다. 어떤 프로젝트를 포함하면 좋을까요?', 'completed', '2024-01-21 11:00:00', '2024-01-21 12:00:00', 60, 45000, 5, '최고의 상담이었습니다', '2024-01-25 15:30:00', '2024-01-21 12:00:00'),

-- 상담 8번 (사용자3 - 전문가2)
(8, 'user_003', 2, 2, '사용자 경험 개선 상담', '현재 서비스의 사용자 경험이 좋지 않다고 피드백을 받았습니다. 어떻게 개선하면 좋을까요?', 'completed', '2024-01-22 14:00:00', '2024-01-22 15:00:00', 60, 45000, 3, '괜찮은 상담이었습니다', '2024-01-10 10:00:00', '2024-01-22 15:00:00'),

-- 상담 9번 (사용자4 - 전문가2)
(9, 'user_004', 2, 2, '모바일 앱 디자인 상담', '모바일 앱을 디자인하고 있는데, 사용자 친화적인 인터페이스를 만들고 싶습니다.', 'completed', '2024-01-23 16:00:00', '2024-01-23 17:00:00', 60, 45000, 2, '아쉬운 점이 있었어요', '2024-01-12 14:30:00', '2024-01-23 17:00:00'),

-- 상담 10번 (사용자1 - 전문가3)
(10, 'user_001', 3, 3, '마케팅 전략 수립 상담', '새로운 제품을 출시하려고 합니다. 어떤 마케팅 전략을 세우면 좋을까요?', 'completed', '2024-01-24 10:00:00', '2024-01-24 11:00:00', 60, 40000, 5, '정말 감사합니다', '2024-01-15 09:15:00', '2024-01-24 11:00:00'),

-- 상담 11번 (사용자2 - 전문가3)
(11, 'user_002', 3, 3, '브랜드 포지셔닝 상담', '스타트업의 브랜드 포지셔닝을 어떻게 해야 할지 고민입니다.', 'completed', '2024-01-25 13:00:00', '2024-01-25 14:00:00', 60, 40000, 4, '좋은 경험이었습니다', '2024-01-18 16:45:00', '2024-01-25 14:00:00'),

-- 상담 12번 (사용자3 - 전문가3)
(12, 'user_003', 3, 3, '소셜미디어 마케팅 상담', '소셜미디어를 활용한 마케팅을 시작하려고 합니다. 어떤 플랫폼부터 시작하면 좋을까요?', 'completed', '2024-01-26 15:00:00', '2024-01-26 16:00:00', 60, 40000, 5, '완벽한 상담이었어요', '2024-01-20 11:20:00', '2024-01-26 16:00:00'),

-- 상담 13번 (사용자5 - 전문가3)
(13, 'user_005', 3, 3, '고객 세분화 전략 상담', '고객을 어떻게 세분화하고 타겟팅하면 좋을지 조언해주세요.', 'completed', '2024-01-27 09:00:00', '2024-01-27 10:00:00', 60, 40000, 3, '전반적으로 만족', '2024-01-22 13:10:00', '2024-01-27 10:00:00'),

-- 상담 14번 (사용자1 - 전문가4)
(14, 'user_001', 4, 4, '투자 포트폴리오 구성 상담', '처음 투자를 시작하려고 합니다. 어떤 종목에 투자하면 좋을까요?', 'completed', '2024-01-28 14:00:00', '2024-01-28 15:00:00', 60, 60000, 4, '도움이 많이 되었어요', '2024-01-25 15:30:00', '2024-01-28 15:00:00'),

-- 상담 15번 (사용자2 - 전문가4)
(15, 'user_002', 4, 4, '부동산 투자 상담', '부동산 투자를 고려하고 있습니다. 어떤 지역과 유형을 선택하면 좋을까요?', 'completed', '2024-01-29 16:00:00', '2024-01-29 17:00:00', 60, 60000, 5, '최고의 전문가입니다', '2024-01-10 10:00:00', '2024-01-29 17:00:00'),

-- 상담 16번 (사용자4 - 전문가4)
(16, 'user_004', 4, 4, '연금 상품 선택 상담', '퇴직 후를 대비한 연금 상품을 선택하려고 합니다. 어떤 상품이 좋을까요?', 'completed', '2024-01-30 11:00:00', '2024-01-30 12:00:00', 60, 60000, 3, '괜찮은 상담이었습니다', '2024-01-12 14:30:00', '2024-01-30 12:00:00'),

-- 상담 17번 (사용자3 - 전문가5)
(17, 'user_003', 5, 5, '창업 아이디어 검증 상담', '창업 아이디어가 있는데, 시장성을 검증하고 싶습니다.', 'completed', '2024-01-31 13:00:00', '2024-01-31 14:00:00', 60, 55000, 5, '정말 감사합니다', '2024-01-15 09:15:00', '2024-01-31 14:00:00'),

-- 상담 18번 (사용자5 - 전문가5)
(18, 'user_005', 5, 5, '스타트업 자금 조달 상담', '스타트업 자금 조달 방법에 대해 조언을 구하고 싶습니다.', 'completed', '2024-02-01 15:00:00', '2024-02-01 16:00:00', 60, 55000, 4, '좋은 조언 감사합니다', '2024-01-18 16:45:00', '2024-02-01 16:00:00'),

-- 상담 19번 (사용자1 - 전문가6)
(19, 'user_001', 6, 6, '커리어 전환 상담', '현재 직장을 그만두고 다른 분야로 전환하고 싶습니다.', 'completed', '2024-02-02 10:00:00', '2024-02-02 11:00:00', 60, 35000, 4, '유익한 시간이었습니다', '2024-01-20 11:20:00', '2024-02-02 11:00:00'),

-- 상담 20번 (사용자2 - 전문가7)
(20, 'user_002', 7, 7, '심리 상담', '최근 스트레스가 많아서 심리 상담을 받고 싶습니다.', 'completed', '2024-02-03 14:00:00', '2024-02-03 15:00:00', 60, 30000, 5, '정말 감사합니다', '2024-01-22 13:10:00', '2024-02-03 15:00:00');

-- 완료된 상담 데이터 확인
SELECT 
    id,
    userId,
    expertId,
    categoryId,
    title,
    status,
    scheduledAt,
    completedAt,
    rating,
    createdAt
FROM consultations 
WHERE status = 'completed'
ORDER BY completedAt DESC
LIMIT 20;

-- 전문가별 완료된 상담 통계
SELECT 
    expertId,
    COUNT(*) as completedConsultations,
    AVG(rating) as avgRating,
    SUM(price) as totalRevenue
FROM consultations 
WHERE status = 'completed'
GROUP BY expertId 
ORDER BY avgRating DESC;
